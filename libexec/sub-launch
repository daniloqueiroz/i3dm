#!/usr/bin/env bash
# Usage: i3dm launch [option]
# Summary: App/file launcher & window switcher
# Help: The following options are available
# -p/pass - password store mode
# -w/window - switch window mode
# -a/app - launch app mode

set -e

source ${libs_file}

function launcher() {
  case "$command" in
    "app" | "-a")
      i3-dmenu-desktop --dmenu="dmenu -b -i -p '>>' -nb '#0C1923' -nf '#005D69' -sb '#0C1923' -sf '#00BCD4'"
      ;;
    "pass" | "-p")
      passmenu --type -b -i -p '>>' -nb '#0C1923' -nf '#005D69' -sb '#0C1923' -sf '#00BCD4'
      ;;
    "window" | "-w")
      quickswitch --dmenu="dmenu -b -i -p '>>' -nb '#0C1923' -nf '#005D69' -sb '#0C1923' -sf '#00BCD4'"
      ;;
    *)
      list=("app\npass\nwindow")
      command=$(echo -e "$list" | dmenu -b -i -p '>>' -nb '#0C1923' -nf '#005D69' -sb '#0C1923' -sf '#00BCD4')
      launcher
      ;;
  esac
}

command=$1
launcher
